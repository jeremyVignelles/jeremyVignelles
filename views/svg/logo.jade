doctype xml
mixin drawHexagonLine(line, intersectWithLine1, intersectWithLine2)
    - var point1 = line.getIntersectionWith(intersectWithLine1);
    - var point2 = line.getIntersectionWith(intersectWithLine2);
    line(x1=point1.x, y1=point1.y, x2=point2.x, y2=point2.y, style="stroke:#888;stroke-width:2")

- var showLines = false;
svg(xmlns="http://www.w3.org/2000/svg",
    version="1.1",
    width=parameters.imageSize,
    height=parameters.imageSize)
    if showLines
        + drawHexagonLine(parameters.hexagonLines[0],parameters.boundsLines[0],parameters.boundsLines[1])
        + drawHexagonLine(parameters.hexagonLines[1],parameters.boundsLines[0],parameters.boundsLines[2])
        + drawHexagonLine(parameters.hexagonLines[2],parameters.boundsLines[1],parameters.boundsLines[2])
        + drawHexagonLine(parameters.hexagonLines[3],parameters.boundsLines[2],parameters.boundsLines[3])
        + drawHexagonLine(parameters.hexagonLines[4],parameters.boundsLines[2],parameters.boundsLines[0])
        + drawHexagonLine(parameters.hexagonLines[5],parameters.boundsLines[3],parameters.boundsLines[0])

    - var bottomRightCorner = parameters.hexagonLines[1].getIntersectionWith(parameters.hexagonLines[2]);
    - var startY = ((parameters.imageSize / 2) - parameters.radius);
    rect(x=(bottomRightCorner.x - parameters.thickness), y=startY, width=parameters.thickness, height=bottomRightCorner.y-startY, style="fill:#0059b3")

    - var parallelLine = parameters.hexagonLines[2].translate(-parameters.thickness);
    - var points = [];
    - points.push(parallelLine.getIntersectionWith(parameters.hexagonLines[1]));
    - points.push(bottomRightCorner);
    - points.push((parameters.imageSize / 2) + ',' + ((parameters.imageSize / 2) + parameters.radius));
    - points.push(parallelLine.getIntersectionWith(parameters.hexagonLines[3]));
    polygon(points=points.join(' '), style="fill:#3399FF")

    - points = [];
    - parallelLine = parameters.hexagonLines[3].translate(parameters.thickness);
    - points.push(parallelLine.getIntersectionWith(parameters.hexagonLines[2]));
    - points.push((parameters.imageSize / 2) + ',' + ((parameters.imageSize / 2) + parameters.radius));
    - points.push(parameters.hexagonLines[3].getIntersectionWith(parameters.hexagonLines[4]));
    - points.push(parallelLine.getIntersectionWith(parameters.hexagonLines[4]));
    polygon(points=points.join(' '), style="fill:#5CF")